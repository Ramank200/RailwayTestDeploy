{
  "info": {
    "_postman_id": "adishilp-railway-backend-collection",
    "name": "Adishilp Railway Backend API",
    "description": "Complete API collection for Adishilp Railway Backend with sample data and meaningful relationships",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Root Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""],
              "query": [
                {
                  "key": "time",
                  "value": "{{timestamp}}",
                  "description": "Current timestamp"
                },
                {
                  "key": "proposedTime",
                  "value": "{{proposed_timestamp}}",
                  "description": "Proposed timestamp"
                }
              ]
            },
            "description": "Health check endpoint that returns Hello World and calculates time differences"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Database Management",
      "item": [
        {
          "name": "Create Database Tables",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "SQLPass",
                "value": "Allowing",
                "description": "Required header for database access"
              }
            ],
            "url": {
              "raw": "{{base_url}}/db/createTable",
              "host": ["{{base_url}}"],
              "path": ["db", "createTable"]
            },
            "description": "Creates all database tables. Requires SQLPass header with value 'Allowing'"
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"user_001\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"region\": \"Mumbai\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/createUser",
              "host": ["{{base_url}}"],
              "path": ["user", "createUser"]
            },
            "description": "Creates a new user in the system"
          },
          "response": []
        },
        {
          "name": "Create User - Sample 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"user_002\",\n  \"firstName\": \"Priya\",\n  \"lastName\": \"Sharma\",\n  \"region\": \"Delhi\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/createUser",
              "host": ["{{base_url}}"],
              "path": ["user", "createUser"]
            },
            "description": "Creates another sample user"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Product Management",
      "item": [
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Premium Railway Model Set\",\n  \"description\": \"High-quality detailed railway model set with multiple locomotives and carriages\",\n  \"base_price\": 2500.00,\n  \"is_global\": true,\n  \"dimensions_of_product\": [\"45cm\", \"30cm\", \"15cm\"],\n  \"tags\": [\"railway\", \"model\", \"premium\", \"collectible\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/product/createProduct",
              "host": ["{{base_url}}"],
              "path": ["product", "createProduct"]
            },
            "description": "Creates a new product in the system"
          },
          "response": []
        },
        {
          "name": "Create Product - Sample 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Railway Track Expansion Pack\",\n  \"description\": \"Additional railway tracks and accessories for expanding your railway setup\",\n  \"base_price\": 850.00,\n  \"is_global\": true,\n  \"dimensions_of_product\": [\"60cm\", \"20cm\", \"5cm\"],\n  \"tags\": [\"railway\", \"tracks\", \"expansion\", \"accessories\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/product/createProduct",
              "host": ["{{base_url}}"],
              "path": ["product", "createProduct"]
            },
            "description": "Creates another sample product"
          },
          "response": []
        },
        {
          "name": "Add Images to Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 1,\n  \"product_images\": [\n    {\n      \"image_url\": \"https://example.com/images/railway-model-1.jpg\",\n      \"alt_text\": \"Premium Railway Model Set - Front View\",\n      \"is_primary\": true\n    },\n    {\n      \"image_url\": \"https://example.com/images/railway-model-2.jpg\",\n      \"alt_text\": \"Premium Railway Model Set - Side View\",\n      \"is_primary\": false\n    },\n    {\n      \"image_url\": \"https://example.com/images/railway-model-3.jpg\",\n      \"alt_text\": \"Premium Railway Model Set - Detail View\",\n      \"is_primary\": false\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/product/addImageToProduct",
              "host": ["{{base_url}}"],
              "path": ["product", "addImageToProduct"]
            },
            "description": "Adds multiple images to a product. Use the product_id from the created product."
          },
          "response": []
        },
        {
          "name": "Add Images to Product - Sample 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 2,\n  \"product_images\": [\n    {\n      \"image_url\": \"https://example.com/images/track-expansion-1.jpg\",\n      \"alt_text\": \"Railway Track Expansion Pack - Overview\",\n      \"is_primary\": true\n    },\n    {\n      \"image_url\": \"https://example.com/images/track-expansion-2.jpg\",\n      \"alt_text\": \"Railway Track Expansion Pack - Individual Tracks\",\n      \"is_primary\": false\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/product/addImageToProduct",
              "host": ["{{base_url}}"],
              "path": ["product", "addImageToProduct"]
            },
            "description": "Adds images to the second product"
          },
          "response": []
        },
        {
          "name": "Add Inventory to Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 1,\n  \"is_available\": true,\n  \"availability_region_id\": 1,\n  \"total_quantity\": 50,\n  \"discount_percentage\": 10.0,\n  \"discount_expiration_date\": \"2024-12-31\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/product/addInventoryOfProduct",
              "host": ["{{base_url}}"],
              "path": ["product", "addInventoryOfProduct"]
            },
            "description": "Adds inventory information for a product"
          },
          "response": []
        },
        {
          "name": "Add Inventory to Product - Sample 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 2,\n  \"is_available\": true,\n  \"availability_region_id\": 1,\n  \"total_quantity\": 100,\n  \"discount_percentage\": 15.0,\n  \"discount_expiration_date\": \"2024-11-30\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/product/addInventoryOfProduct",
              "host": ["{{base_url}}"],
              "path": ["product", "addInventoryOfProduct"]
            },
            "description": "Adds inventory information for the second product"
          },
          "response": []
        },
        {
          "name": "Get Product by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/product/getProductById?product_id=1",
              "host": ["{{base_url}}"],
              "path": ["product", "getProductById"],
              "query": [
                {
                  "key": "product_id",
                  "value": "1",
                  "description": "ID of the product to retrieve"
                }
              ]
            },
            "description": "Retrieves a specific product by its ID along with associated images"
          },
          "response": []
        },
        {
          "name": "Get Product by ID - Sample 2",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/product/getProductById?product_id=2",
              "host": ["{{base_url}}"],
              "path": ["product", "getProductById"],
              "query": [
                {
                  "key": "product_id",
                  "value": "2",
                  "description": "ID of the second product to retrieve"
                }
              ]
            },
            "description": "Retrieves the second product by its ID"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set current timestamp",
          "pm.globals.set('timestamp', Date.now());",
          "",
          "// Set proposed timestamp (example: 1 hour ago)",
          "pm.globals.set('proposed_timestamp', Date.now() - 3600000);"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "description": "Base URL for the API server"
    }
  ]
}
